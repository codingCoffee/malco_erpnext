[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Invoice", 
  "modified": "2017-09-05 23:16:10.816353", 
  "name": "Sales Invoice-Client", 
  "script": "frappe.ui.form.on(\"Sales Invoice\", \"before_submit\", function(frm, cdt, cdn){\n\tvar p = frm.doc;\t\t\n\tfrappe.call({\n\t\tmethod: \"malco_erpnext.malco_erpnext.malco_erpnext.upload_transaction_ts\",\n\t\targs:{\n\t\t\t\"doctype\": \"Sales Invoice\",\n\t\t\t\"docname\": p.name,\n\t\t\t\"pf\": \"Standard\"\n\t\t},\n\t\tfreeze: true,\n\t\tcallback: function(r) {\n\t\t\tfrappe.msgprint(r.message);\n\t\t\tif(r.message == \"File uploaded successfully.\"){\t\t\t\n\t\t\t\tsetTimeout(\n\t\t\t\t  function() \n\t\t\t\t  {\n\t\t\t\t    frappe.call({\n\t\t\t\t\t\t\tmethod: \"malco_erpnext.malco_erpnext.malco_erpnext.get_algo_signature\",\n\t\t\t\t\t\t\targs:{\n\t\t\t\t\t\t\t\t\"doctype\": \"Sales Invoice\",\n\t\t\t\t\t\t\t\t\"docname\": p.name,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\t\t\tconsole.log(r);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t  }, 10000);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Delivery Note", 
  "modified": "2017-09-05 23:15:53.443793", 
  "name": "Delivery Note-Client", 
  "script": "frappe.ui.form.on(\"Delivery Note\", \"before_submit\", function(frm, cdt, cdn){\n\tvar p = frm.doc;\t\t\n\tfrappe.call({\n\t\tmethod: \"malco_erpnext.malco_erpnext.malco_erpnext.upload_transaction_ts\",\n\t\targs:{\n\t\t\t\"doctype\": \"Delivery Note\",\n\t\t\t\"docname\": p.name,\n\t\t\t\"pf\": \"Standard\"\n\t\t},\n\t\tfreeze: true,\n\t\tcallback: function(r) {\n\t\t\tfrappe.msgprint(r.message);\n\t\t\tif(r.message == \"File uploaded successfully.\"){\t\t\t\n\t\t\t\tsetTimeout(\n\t\t\t\t  function() \n\t\t\t\t  {\n\t\t\t\t    frappe.call({\n\t\t\t\t\t\t\tmethod: \"malco_erpnext.malco_erpnext.malco_erpnext.get_algo_signature\",\n\t\t\t\t\t\t\targs:{\n\t\t\t\t\t\t\t\t\"doctype\": \"Delivery Note\",\n\t\t\t\t\t\t\t\t\"docname\": p.name,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\t\t\tconsole.log(r);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t  }, 10000);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n});", 
  "script_type": "Client"
 }
]